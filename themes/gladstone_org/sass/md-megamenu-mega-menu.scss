/* style 1
----------------------------------------------------------- */
@import "base";


.mdmegamenu ul.menu li {
  float: none !important;
}

#menu-bar {

  & > .menu-wrapper {
    margin: 0 -1.2*$gutter-width;
  }

  .mdmegamenu.md-custom {
    h1, h2, h3, h4, h5, h6 { color: $page_txt; }
  }

  /** glyphs **/
  .mm-arrow {
    // background: image-url('arrow-down.png') no-repeat 0 0;
    background-image: none;
    display: block;
    height: 8px;
    width: 10px;
    position: absolute;
    margin-top: -3px;
    right: 0px;
    top: 50%;
    padding-left: 5px;
  }

  /** base styles **/
  .mdmegamenu {
    .message,
    .message-success,
    .message-error,
    .message-info {
      color: $page;
      background-color: inherit;
      border: none;
    }
  }

  /** custom styles **/
  .md-custom {

  	font-family: Arial, Helvetica, sans-serif;
  
    .mm-item{
      & > a,
      & > a:link,
      & > a:visited {
      	// font-size: 1.25em;
        font-weight: bold;
      	// line-height: 41px;
      	color: $nav_link;
      	text-transform: uppercase;
        // padding: 0 20px;
      	// padding: 0 1em;
      }

      & > a.with-arrow {
        // padding-right: 26px;
      }
    }

    .mm-hover > a:hover {
      color:#444
    }

    .mm-active > a,
    .mm-active > a:link,
    .mm-active > a:visited {
        background: #000;
        color: #fff;
    }


    li.mm-parent {
      
      margin-left: $gutter-width;
      margin-bottom: .1*$gutter-width;

      &.first {
        margin-left: $gutter-width * 3;
      }

      &.mm-hover > a {

        position: relative;
        background: $header_bg image-url('mega-tab-bg-active.png') repeat-x;

        &:before, 
        &:after {
          z-index: -1; 
          position: absolute; 
          content: "";

          top: 100%;
          bottom: 0%;
          left: 8%;
          width: 90%; 
          
          $shadow: 0 0 .1em .3em $header_shadow;
          box-shadow: $shadow;
          -webkit-box-shadow: $shadow;   
          -moz-box-shadow: $shadow;

          $transform: skew(210deg, 0deg);         
          transform: $transform;
          -moz-transform: $transform;
          -webkit-transform: $transform;
          -o-transform: $transform;
          -ms-transform: $transform;
        
        }

        &:after {
          top: 16%;
          bottom: 0%;
          left: 97%;
          width: 0%; 
          height: 83%;

          $transform: rotate(-1deg) skew(5deg,0deg);
          transform: $transform;
          -moz-transform: $transform;
          -webkit-transform: $transform;
          -o-transform: $transform;
          -ms-transform: $transform;          
        }
        
      }

    }

    li.mm-hover {
      color: $nav_link;
    
      & > a,
      & > a:link,
      & > a:visited {
        color: $nav_link_active;
      }
    }

    ul.mm-container {

      a:hover,
      li.mm-hover > a,
      li.mm-hover > a:hover,      
      .mm-active > a,
      .mm-active > a:link,
      .mm-active > a:visited {
          background: $page_txt;
          color: #333;
      }
    }

    .mm-container {
    	background: $header_shadow;
    	top: 41px;
      margin: 1em 0 0 0;
      z-index: 9990;

      a,
      a:link,
      a:visited {
      	color: $page_txt;
      	border: none;
      }

    }

    .mm-sub {
      background: $header_shadow;
      // margin: 0.2em;
    }

    .mm-sub h3.mm-header {
    	font-size: 12px;
    	text-transform: uppercase;
    }


    /* menu item with description */
    .mm-item > a span.mm-desc {
      color: #666;
      font-size: 11px;
      line-height: 1.4em;
      margin-top: -10px;
      padding-bottom: 10px;
      text-transform: none;
    }

    /* menu fixed */
    .mm-toggle {
      border-top: 3px solid #000;
      background-image: url(../images/fixed-toggle.png);
      background-color: $page_txt;
      height: 41px;
    }

    &.mm-fixed-bottom .mm-toggle {
      border-top: none;
      border-bottom: 3px solid #000;
    }

  } // end .md-custom


  /** horizontal **/
  .md-horizontal.md-custom {
    background: none;
  }


  /** vertical style **/
  .md-vertical.md-custom {
  	height: auto;
  
    ul.megamenu {
    	background: #fff;
    	padding: 12px 0;
    
      & > li {
    	 background: #fff;
    	 padding-left: 12px;
      }

    }

    .mm-item > a {
      line-height: 18px;
      padding-left: 10px;
      padding-top: 7px;
      padding-bottom: 7px;
    }
    
    li.mm-hover {
      background: #000;
      color: $page_txt;
      -moz-box-shadow: none;
      -webkit-box-shadow: none;
      box-shadow: none;

      & > a {
        background: #000
      }

    }

  }

  .md-vertical-rtl.md-custom {

    ul.megamenu > li {
    	padding-left: 0;
    	padding-right: 12px;
    }

    .mm-item > a {
    	padding-right: 10px;
    	padding-left: 20px;
    }

  }


} // end #menu-bar